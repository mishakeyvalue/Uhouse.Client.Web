<!DOCTYPE html>
<html>
<head>

<title>uHouse</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/styles/styles1.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script src="highcharts.js"></script>
  <script src="https://code.highcharts.com/stock/highstock.js"></script>

</head>
<body>
<div id="div1">
<p id="p1">uHouse</p>
</div>
<div id="11">
<a href="index.html"><span class="glyphicon glyphicon-arrow-left"></span></a>
</div>
<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
 
<script type="text/javascript">



$.getJSON('https://8ff71930.ngrok.io/api/Temperature/all', function(data){
         var model={};
         model.timestamps=data.map(function(d) { return d.timestamp});
         model.values=data.map(function(d) { return d.value});
         console.log(model);

    Highcharts.chart('container', {
    chart: {
        type: 'spline'
    },
    title: {
        text: 'Monthly Average Temperature'
    },
    xAxis: {
        categories: model.timestamps
    },
    yAxis: {
        title: {
            text: 'Temperature'
        },
        labels: {
            formatter: function () {
                return this.value + 'Â°';
            }
        }
    },
    tooltip: {
        crosshairs: true,
        shared: true
    },
    plotOptions: {
        spline: {
            marker: {
                radius: 4,
                lineColor: '#666666',
                lineWidth: 2
            }
        }
    },
    series: [{
        marker: {
            symbol: 'square'
        },
        data: model.values
        // data: models
    }]
});
     })
        


        </script> 
    </body>
</html>
